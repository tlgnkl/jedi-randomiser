<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>–î–∂–µ–¥–∞–π—Å–∫–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ ‚Äî –†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä</title>
    <meta name="description" content="Serverless —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä –¥–∂–µ–¥–∞–π—Å–∫–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ —à–∞–Ω—Å–∞–º–∏ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=2025-08-08-2" />
    <link rel="icon" href="favicon.ico" />
    <link rel="manifest" href="manifest.webmanifest" />
    <meta name="theme-color" content="#0e0f12" />
  </head>
  <body>
    <header class="site-header">
      <div class="brand">
        <div class="logo" aria-hidden="true">‚öîÔ∏è</div>
        <div>
          <h1>–î–∂–µ–¥–∞–π—Å–∫–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</h1>
          <p class="subtitle">–ü—Ä–æ—Å—Ç–æ–π –∏ —á–µ—Å—Ç–Ω—ã–π —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä –¥–ª—è —É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</p>
        </div>
      </div>
      <div class="header-actions">
        <button id="btn-export" class="ghost" title="–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥">–≠–∫—Å–ø–æ—Ä—Ç</button>
        <label class="file-btn ghost" title="–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥">
          <input id="file-import" type="file" accept="application/json" hidden />
          –ò–º–ø–æ—Ä—Ç
        </label>
        <label class="file-btn ghost" title="–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ Markdown">
          <input id="md-import" type="file" accept=".md,text/markdown" hidden />
          –ò–º–ø–æ—Ä—Ç .md
        </label>
        <button id="btn-reset" class="ghost" title="–°–±—Ä–æ—Å–∏—Ç—å –∫ –±–∞–∑–æ–≤–æ–º—É –∫–æ–Ω—Ñ–∏–≥—É">–°–±—Ä–æ—Å</button>
        <button id="btn-share" class="ghost" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ç–µ–∫—É—â–∏–º –∫–æ–Ω—Ñ–∏–≥–æ–º">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
        <a id="gh-link" class="ghost" href="#" target="_blank" rel="noopener">GitHub</a>
      </div>
    </header>

    <main class="layout">
      <section class="panel config">
        <h2>–ö–æ–Ω—Ñ–∏–≥</h2>
        <div class="row">
          <label for="config-select">–¢–µ–∫—É—â–∏–π –∫–æ–Ω—Ñ–∏–≥</label>
          <select id="config-select" aria-label="–í—ã–±–æ—Ä –∫–æ–Ω—Ñ–∏–≥–∞"></select>
        </div>
        <div class="row">
          <input id="config-name" type="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞" />
        </div>
        <div class="row gap">
          <button id="btn-save" class="primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          <button id="btn-save-as">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫‚Ä¶</button>
          <button id="btn-delete" class="danger">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
        <p class="hint">–ö–æ–Ω—Ñ–∏–≥–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ (localStorage). –ú–æ–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –ø–æ–∑–∂–µ.</p>
      </section>

      <section class="panel practices">
        <div class="panel-header">
          <h2>–ü—Ä–∞–∫—Ç–∏–∫–∏</h2>
          <div class="row">
            <input id="search" type="search" placeholder="–ü–æ–∏—Å–∫‚Ä¶" aria-label="–ü–æ–∏—Å–∫ –ø—Ä–∞–∫—Ç–∏–∫" />
            <button id="btn-add" class="primary" aria-label="–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–∫—Ç–∏–∫—É">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–∫—Ç–∏–∫—É</button>
          </div>
        </div>
        <div id="practices-list" class="list"></div>
      </section>

      <section class="panel randomizer">
        <h2>–†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä</h2>
        <canvas id="prob-canvas" width="960" height="72" aria-label="–ü–æ–ª–æ—Å–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π"></canvas>
        <div class="row gap">
          <button id="btn-generate" class="accent" aria-label="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–∫—Ç–∏–∫—É">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
          <label class="inline">
            <input id="toggle-excluded" type="checkbox" />
            –ò—Å–∫–ª—é—á–∞—Ç—å –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
          </label>
        </div>
        <div class="row gap">
          <label class="inline"><input id="seed-lock" type="checkbox" /> –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π seed</label>
          <input id="seed-input" type="text" placeholder="seed" />
          <label class="inline"><input id="seed-today" type="checkbox" /> –°–µ–≥–æ–¥–Ω—è</label>
        </div>
        <div id="transparency" class="transparency">
          <div class="stat"><span>–°—É–º–º–∞ –≤–µ—Å–æ–≤:</span><strong id="total-weight">‚Äî</strong></div>
          <div class="stat"><span>–°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ r:</span><strong id="rand-value">‚Äî</strong></div>
          <div class="stat"><span>–í—ã–±—Ä–∞–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞:</span><strong id="picked-title">‚Äî</strong></div>
        </div>
        <div id="protocol" class="protocol">
          <div class="protocol-header">
            <h3>–ü—Ä–æ—Ç–æ–∫–æ–ª</h3>
            <button id="btn-clear-log" class="ghost" aria-label="–û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª">–û—á–∏—Å—Ç–∏—Ç—å</button>
          </div>
          <div class="protocol-body">
            <table id="log-table">
              <thead><tr><th>–í—Ä–µ–º—è</th><th>r/Œ£</th><th>–ü—Ä–∞–∫—Ç–∏–∫–∞</th><th>–ò–Ω—Ç–µ—Ä–≤–∞–ª</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
        <div id="result" class="result hidden" aria-live="polite" aria-atomic="true" role="status">
          <div class="result-card">
            <img id="result-img" alt="" />
            <div class="result-content">
              <h3 id="result-title"></h3>
              <p id="result-desc"></p>
            </div>
          </div>
        </div>
      </section>
    </main>
    <canvas id="fx-canvas" class="fx-canvas"></canvas>
    <div id="toasts" class="toasts" aria-live="polite" aria-atomic="false"></div>

    <dialog id="dlg-practice" class="dialog">
      <form method="dialog" id="practice-form">
        <h3 id="dlg-title">–ü—Ä–∞–∫—Ç–∏–∫–∞</h3>
        <div class="grid2">
          <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫
            <input name="title" type="text" required />
          </label>
          <label>–í–µ—Å (—à–∞–Ω—Å)
            <input name="weight" type="number" min="0" step="0.1" value="1" />
          </label>
        </div>
        <label>–û–ø–∏—Å–∞–Ω–∏–µ
          <textarea name="description" rows="6" placeholder="–¢–µ–∫—Å—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏"></textarea>
        </label>
        <div class="grid2">
          <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (URL)
            <input name="imageUrl" type="url" placeholder="https://‚Ä¶" />
          </label>
          <label class="file-btn">–∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
            <input id="img-file" type="file" accept="image/*" />
          </label>
        </div>
        <menu class="dialog-actions">
          <button value="cancel" class="ghost">–û—Ç–º–µ–Ω–∞</button>
          <button value="ok" class="primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </menu>
      </form>
    </dialog>

    <template id="practice-item-tpl">
      <div class="practice-item" draggable="true">
        <div class="drag" title="–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫">‚†ø</div>
        <img class="thumb" alt="" />
        <div class="left">
          <input type="checkbox" class="exclude" title="–ò—Å–∫–ª—é—á–∏—Ç—å –∏–∑ –≤—ã–ø–∞–¥–µ–Ω–∏—è" />
          <input type="text" class="title" />
        </div>
        <div class="right">
          <span class="percent" title="–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å">‚Äî%</span>
          <label class="weight-label">–í–µ—Å
            <input type="number" class="weight" min="0" step="0.1" />
          </label>
          <button class="ghost btn-expand" title="–û–ø–∏—Å–∞–Ω–∏–µ" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ">‚ñº</button>
          <button class="ghost btn-edit" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" aria-label="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–∫—Ç–∏–∫—É">‚úé</button>
          <button class="ghost btn-delete" title="–£–¥–∞–ª–∏—Ç—å" aria-label="–£–¥–∞–ª–∏—Ç—å –ø—Ä–∞–∫—Ç–∏–∫—É">üóë</button>
        </div>
        <div class="details">
          <div class="details-body">
            <div class="desc"></div>
            <div class="hint">–ú–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É, —á—Ç–æ–±—ã –∑–∞–º–µ–Ω–∏—Ç—å –µ–≥–æ.</div>
          </div>
        </div>
      </div>
    </template>

    <script type="module" src="app.js"></script>
  </body>
</html>
